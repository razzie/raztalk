@inherits Nancy.ViewEngines.Razor.NancyRazorViewBase<dynamic>
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>RazTalk - @Model.Channel.Name</title>
		<link href="/content/bootstrap.min.css" rel="stylesheet">
		<link href="/content/jquery.oembed.css" rel="stylesheet">
		<link href="/content/raztalk.css" rel="stylesheet">
		<base target="_blank">
		<!--[if lt IE 9]>
			<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
			<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
		<![endif]-->
	</head>
	<body class="container" data-token="@Model.Token">
		<header class="row justify-content-center text-center reveal">
			<span class="m-2">User: <strong>@Model.User.Name</strong></span>
			<span class="m-2">Channel: <strong>@Model.Channel.Name</strong></span>
		</header>
		<section class="row m-5">
			<table id="messages">
				<tbody>
					<tr id="users" class="reveal">
						<td></td>
						<td>Connected users: @Model.Users</td>
					</tr>
					@foreach (var msg in Model.Channel.Messages)
					{
						<tr class="reveal">
							<td>@msg.User.Name</td>
							<td data-timestamp="@msg.TimestampStr"><pre>@msg.Text</pre></td>
						</tr>
					}
				</tbody>
			</table>
		</section>
		<footer class="row m-2 justify-content-center text-center reveal">
			<textarea id="message" /></textarea>
		</footer>
		<script src="/content/jquery.min.js"></script>
		<script src="/content/jquery.signalR.min.js"></script>
		<script src="/content/jquery.oembed.js"></script>
		<script src="/content/jquery.playSound.js"></script>
		<script src="/content/scrollreveal.min.js"></script>
		<script src="/content/raztalk.js"></script>
		<script src="/signalr/hubs"></script>
	</body>
</html>